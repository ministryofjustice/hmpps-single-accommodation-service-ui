{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "components/riskLevelTag.njk" import riskLevelTag %}
{% extends "partials/layout.njk" %}

{% set pageTitle = applicationName + " - Home" %}
{% set mainClasses = "sas-profile-page" %}

{% block beforeContent %}
    {{ govukBreadcrumbs({
        items: [
            {
            text: "Case List",
            href: "/"
            }
        ]
    }) }}
{% endblock %}

{% block content %}
    <div class="sas-profile-header govuk-header">
        <img class="sas-responsive-image sas-profile-image" alt="Photo of {{ caseData.name }}" src="/assets/images/profile-placeholder.jpg" onerror="this.onerror=null;this.src='/assets/images/people/profile-placeholder.jpg';">
        <div>
            <h1 class="govuk-heading-l govuk-!-margin-bottom-2">{{ caseData.name }}</h1>
            <dl class="sas-risk-tags govuk-!-margin-0 govuk-!-margin-bottom-2">
                {{ riskLevelTag(caseData.riskLevel) }}
                <div class="sas-risk-tag sas-risk-tag--tier">
                    <dt>Tier</dt>
                    <dd>{{ caseData.tier }}</dd>
                </div>
            </dl>
            <div class="govuk-body-s govuk-!-margin-bottom-0">
                <dl class="sas-profile-header__details govuk-!-margin-bottom-1">
                    <dt>CRN</dt>
                    <dd>{{ caseData.crn }}</dd>
                </dl>
                <dl class="sas-profile-header__details govuk-!-margin-bottom-1">
                    <dt>Prison number</dt>
                    <dd>{{ caseData.prisonNumber }}</dd>
                </dl>
                <dl class="sas-profile-header__details govuk-!-margin-bottom-1">
                    <dt>PNC reference</dt>
                    <dd>{{ caseData.pncReference }}</dd>
                </dl>
            </div>
            <div class="govuk-body-s govuk-!-margin-bottom-0">
                <dl class="sas-profile-header__details govuk-!-margin-bottom-1">
                    <dt>Date of birth</dt>
                    <dd>{{ caseData.dateOfBirth | date }} ({{ caseData.age }})</dd>
                </dl>
                <dl class="sas-profile-header__details govuk-!-margin-bottom-1">
                    <dt>Assigned to</dt>
                    <dd>You ({{ caseData.assignedTo.name }})</dd>
                </dl>
            </div>
        </div>
    </div>
{% endblock %}